<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Control Panel</title>
</head>
<body>
  <h1>Control Panel</h1>

  <form onsubmit="return false;">
    <label for="title">Title:</label>
    <input type="text" id="title" required>
    <br>
    <label for="type">Type:</label>
    <input type="text" id="type" required>
    <br>
    <label for="link">Link:</label>
    <input type="text" id="link" required>
    <br>
    <label for="coverImage">Cover Image:</label>
    <input type="file" id="coverImage" accept="image/*" required>
    <br>
    <button onclick="addMusic()">Add Music</button>
  </form>

  <script>
    function addMusic() {
      const title = document.getElementById('title').value;
      const type = document.getElementById('type').value;
      const link = document.getElementById('link').value;
      const fileInput = document.getElementById('coverImage');
      const file = fileInput.files[0];

      if (title && type && link && file) {
        const reader = new FileReader();
        reader.onload = function (event) {
          const imageBase64 = event.target.result;
          const newMusicItem = {
            title,
            type,
            link,
            coverImage: imageBase64,
          };

          // Assuming you have the existing code to handle localStorage here...
          let musicItems = JSON.parse(localStorage.getItem('musicItems')) || [];
          musicItems.push(newMusicItem);
          localStorage.setItem('musicItems', JSON.stringify(musicItems));
          // ...

          alert('Music item added successfully!');
        };
        reader.readAsDataURL(file);
      } else {
        alert('Please fill in all the fields and select a cover image.');
      }
    }
  </script>
</body>
</html>
